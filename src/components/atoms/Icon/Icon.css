/**
 * Icon Component Styles - Kalos Design System
 */

/* Base icon styles */
.icon {
  display: inline-block;
  vertical-align: middle;
  flex-shrink: 0;
  color: inherit;
  stroke: currentColor;
}

/* Icon placeholder for missing icons */
.icon-placeholder {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  background-color: var(--color-gray-200);
  border-radius: var(--radius-sm);
  position: relative;
}

.icon-placeholder::after {
  content: '?';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 0.75rem;
  color: var(--color-gray-500);
  font-weight: bold;
}

/* Size variants using CSS custom properties */
.icon-xs { width: 1rem; height: 1rem; }
.icon-sm { width: 1.25rem; height: 1.25rem; }
.icon-md { width: 1.5rem; height: 1.5rem; }
.icon-lg { width: 2rem; height: 2rem; }
.icon-xl { width: 3rem; height: 3rem; }

/* Context-specific icon styles */
.icon-button {
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.icon-button:hover {
  color: var(--color-brand);
  transform: scale(1.05);
}

.icon-button:active {
  transform: scale(0.95);
}

/* Icon in different contexts */
.btn .icon {
  flex-shrink: 0;
}

.btn .icon:first-child:not(:only-child) {
  margin-right: 0.5rem;
}

.btn .icon:last-child:not(:only-child) {
  margin-left: 0.5rem;
}

.btn .icon:only-child {
  margin: 0;
}

/* Form field icons */
.form-field .icon {
  color: var(--color-gray-400);
  transition: color 0.2s ease-in-out;
}

.form-field.focused .icon,
.form-field:focus-within .icon {
  color: var(--color-brand);
}

.form-field.error .icon {
  color: var(--color-error);
}

.form-field.success .icon {
  color: var(--color-success);
}

/* Loading animation for loader icon */
.icon-loader {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Status color variants */
.icon-success { color: var(--color-success); }
.icon-warning { color: var(--color-warning); }
.icon-error { color: var(--color-error); }
.icon-info { color: var(--color-info); }
.icon-primary { color: var(--color-brand); }
.icon-secondary { color: var(--color-navy); }

/* Interactive states */
.icon-interactive {
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  border-radius: var(--radius-sm);
  padding: 0.25rem;
  margin: -0.25rem;
}

.icon-interactive:hover {
  background-color: var(--color-gray-100);
  color: var(--color-brand);
}

.icon-interactive:active {
  background-color: var(--color-gray-200);
}

/* Navigation icons */
.nav-icon {
  width: 1.5rem;
  height: 1.5rem;
  color: var(--color-gray-600);
  transition: color 0.2s ease-in-out;
}

.nav-icon:hover,
.nav-item.active .nav-icon {
  color: var(--color-brand);
}

/* Rating stars */
.icon-star.filled {
  fill: var(--color-gold);
  color: var(--color-gold);
}

.icon-star.empty {
  fill: none;
  color: var(--color-gray-300);
}

.icon-star.half {
  fill: url(#half-star);
  color: var(--color-gold);
}

/* Heart for favorites */
.icon-heart.filled {
  fill: var(--color-error);
  color: var(--color-error);
}

.icon-heart:not(.filled) {
  fill: none;
  color: var(--color-gray-400);
}

.icon-heart:hover {
  color: var(--color-error);
  fill: var(--color-error);
}

/* Badge/notification dot on icons */
.icon-wrapper {
  position: relative;
  display: inline-block;
}

.icon-wrapper .notification-dot {
  position: absolute;
  top: -0.125rem;
  right: -0.125rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: var(--color-error);
  border: 1px solid white;
  border-radius: 50%;
}

/* Accessibility improvements */
.icon[aria-hidden="true"] {
  pointer-events: none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .icon {
    stroke-width: 2.5;
  }
  
  .icon-interactive:hover {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .icon-loader {
    animation: none;
  }
  
  .icon-interactive {
    transition: none;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .icon-placeholder {
    background-color: var(--color-gray-700);
  }
  
  .icon-placeholder::after {
    color: var(--color-gray-400);
  }
  
  .icon-interactive:hover {
    background-color: var(--color-gray-800);
  }
  
  .icon-interactive:active {
    background-color: var(--color-gray-700);
  }
}